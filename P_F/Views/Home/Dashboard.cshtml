<style>
    .dashboard-header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 2rem 0;
        margin-bottom: 2rem;
        border-radius: 10px;
        position: relative;
        overflow: hidden;
    }

    .dashboard-header::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="80" cy="40" r="3" fill="rgba(255,255,255,0.1)"/><circle cx="40" cy="80" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="90" cy="10" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="10" cy="90" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="70" cy="70" r="1" fill="rgba(255,255,255,0.1)"/></svg>');
        pointer-events: none;
    }

    .metric-card {
        transition: all 0.3s ease;
        border: none;
        border-radius: 15px;
        overflow: hidden;
        position: relative;
    }

    .metric-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0,0,0,0.15) !important;
    }

    .metric-value {
        font-size: 2.2rem;
        font-weight: bold;
        margin: 0;
        line-height: 1;
    }

    .metric-label {
        font-size: 0.9rem;
        opacity: 0.8;
        margin: 0;
    }

    .metric-trend {
        font-size: 0.8rem;
        font-weight: 500;
        display: flex;
        align-items: center;
        gap: 4px;
    }

    .metric-icon-circle {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        color: white;
    }

    .icon-circle-primary { background: linear-gradient(45deg, #4e73df, #6f9ceb); }
    .icon-circle-success { background: linear-gradient(45deg, #1cc88a, #36d9ac); }
    .icon-circle-info { background: linear-gradient(45deg, #36b9cc, #5bc0d4); }
    .icon-circle-warning { background: linear-gradient(45deg, #f6c23e, #f8d866); }
    .icon-circle-danger { background: linear-gradient(45deg, #e74a3b, #ea6962); }

    .gradient-card-primary { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
    .gradient-card-success { background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%); }
    .gradient-card-info { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
    .gradient-card-warning { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }

    .bg-gradient-primary { background: linear-gradient(135deg, #4e73df, #224abe); }
    .bg-gradient-info { background: linear-gradient(135deg, #36b9cc, #258391); }

    .btn-action {
        border-radius: 10px;
        padding: 1rem;
        transition: all 0.3s ease;
        border: none;
    }

    .btn-action:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }

    .notification-list {
        max-height: 400px;
        overflow-y: auto;
    }

    .notification-item {
        padding: 1rem;
        border-left: 4px solid #e3e6f0;
        margin-bottom: 1rem;
        background: #f8f9fc;
        border-radius: 0 8px 8px 0;
        transition: all 0.3s ease;
    }

    .notification-item:hover {
        transform: translateX(5px);
        background: white;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .notification-item.priority-high {
        border-left-color: #e74a3b;
    }

    .notification-item.priority-medium {
        border-left-color: #f6c23e;
    }

    .notification-item.priority-low {
        border-left-color: #1cc88a;
    }

    .notification-icon {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 1rem;
        flex-shrink: 0;
    }

    .notification-content {
        flex-grow: 1;
        margin-right: 1rem;
    }

    .notification-title {
        font-weight: bold;
        font-size: 0.95rem;
        margin-bottom: 0.25rem;
    }

    .notification-desc {
        font-size: 0.85rem;
        color: #6c757d;
        margin-bottom: 0.25rem;
    }

    .progress {
        border-radius: 10px;
        background-color: #f1f3f4;
    }

    .progress-bar {
        border-radius: 10px;
        position: relative;
        overflow: hidden;
    }

    .progress-bar::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
        animation: shimmer 2s infinite;
    }

    @@keyframes shimmer {
        0% { left: -100%; }
        100% { left: 100%; }
    }

    .task-list {
        max-height: 300px;
        overflow-y: auto;
    }

    .task-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.75rem 0;
        border-bottom: 1px solid #e3e6f0;
    }

    .task-item:last-child {
        border-bottom: none;
    }

    .form-check-label {
        font-size: 0.9rem;
        cursor: pointer;
        color: #495057;
        font-weight: 500;
    }

    .card {
        transition: all 0.3s ease;
    }

    .card:hover {
        box-shadow: 0 5px 20px rgba(0,0,0,0.1) !important;
    }

    .text-gradient-primary {
        background: linear-gradient(45deg, #4e73df, #224abe);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .badge-pulse {
        animation: pulse 2s infinite;
    }

    @@keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.05); }
        100% { transform: scale(1); }
    }

    /* Estilos para calendario y eventos */
    .calendar-today {
        text-align: center;
    }

    .calendar-date {
        display: inline-block;
        background: linear-gradient(135deg, #4e73df, #224abe);
        color: white;
        border-radius: 15px;
        padding: 1rem;
        margin-bottom: 1rem;
        box-shadow: 0 4px 15px rgba(78, 115, 223, 0.3);
    }

    .calendar-day {
        display: block;
        font-size: 2rem;
        font-weight: bold;
        line-height: 1;
    }

    .calendar-month {
        display: block;
        font-size: 0.9rem;
        text-transform: uppercase;
        letter-spacing: 1px;
        opacity: 0.8;
    }

    .events-list {
        text-align: left;
    }

    .event-item {
        display: flex;
        align-items: center;
        padding: 0.75rem;
        margin-bottom: 0.5rem;
        background: #f8f9fc;
        border-radius: 8px;
        border-left: 4px solid #4e73df;
        transition: all 0.3s ease;
    }

    .event-item:hover {
        background: white;
        transform: translateX(5px);
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .event-item.upcoming {
        border-left-color: #f6c23e;
        background: #fef9e7;
    }

    .event-time {
        font-weight: bold;
        color: #4e73df;
        margin-right: 1rem;
        min-width: 60px;
        font-size: 0.85rem;
    }

    .event-desc {
        font-size: 0.9rem;
        color: #5a5c69;
        flex-grow: 1;
    }

    /* Efectos adicionales para el gráfico */
    #activityChart {
        height: 250px !important;
    }

    /* Responsive design */
    @@media (max-width: 768px) {
        .metric-value {
            font-size: 1.8rem;
        }
        
        .metric-icon-circle {
            width: 50px;
            height: 50px;
            font-size: 1.2rem;
        }
        
        .btn-action {
            padding: 0.75rem;
            font-size: 0.9rem;
        }
        
        .dashboard-header {
            padding: 1.5rem 0;
            text-align: center;
        }
        
        .notification-item {
            flex-direction: column;
            text-align: center;
        }
        
        .notification-icon {
            margin-right: 0;
            margin-bottom: 0.5rem;
        }
    }
</style>

<div class="container-fluid">
    <!-- Header mejorado -->
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <div>
            <h1 class="h3 mb-0 text-gray-800">
                <i class="fas fa-tachometer-alt text-primary me-2"></i>Dashboard Principal
            </h1>
            <p class="mb-0 text-muted">Panel de control y métricas del taller</p>
        </div>
        <div class="btn-group">
            <button class="btn btn-primary btn-sm shadow-sm" onclick="location.reload()">
                <i class="fas fa-sync-alt fa-sm me-1"></i>Actualizar
            </button>
            <a href="#" class="btn btn-success btn-sm shadow-sm">
                <i class="fas fa-download fa-sm me-1"></i>Reporte Diario
            </a>
        </div>
    </div>

    <!-- Métricas principales mejoradas -->
    <div class="row mb-4">
        <!-- Órdenes de Trabajo Card -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-primary shadow-sm h-100 metric-card">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                            <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                                Órdenes Activas
                            </div>
                            <div class="h5 mb-0 font-weight-bold text-gray-800">12</div>
                            <div class="mt-1">
                                <small class="text-success"><i class="fas fa-arrow-up"></i> +3 desde ayer</small>
                            </div>
                        </div>
                        <div class="col-auto">
                            <div class="icon-circle bg-primary">
                                <i class="fas fa-clipboard-list text-primary"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Ventas del Mes Card -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-success shadow-sm h-100 metric-card">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                            <div class="text-xs font-weight-bold text-success text-uppercase mb-1">
                                Ventas del Mes
                            </div>
                            <div class="h5 mb-0 font-weight-bold text-gray-800">Q215,000</div>
                            <div class="mt-1">
                                <small class="text-success"><i class="fas fa-arrow-up"></i> 18% vs mes anterior</small>
                            </div>
                        </div>
                        <div class="col-auto">
                            <div class="icon-circle bg-success">
                                <i class="fas fa-dollar-sign text-white"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Clientes Card -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-info shadow-sm h-100 metric-card">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                            <div class="text-xs font-weight-bold text-info text-uppercase mb-1">
                                Total Clientes
                            </div>
                            <div class="h5 mb-0 font-weight-bold text-gray-800">156</div>
                            <div class="mt-1">
                                <small class="text-info"><i class="fas fa-user-plus"></i> 5 nuevos esta semana</small>
                            </div>
                        </div>
                        <div class="col-auto">
                            <div class="icon-circle bg-info">
                                <i class="fas fa-users text-info"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Inventario Crítico Card -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-warning shadow-sm h-100 metric-card">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                            <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">
                                Stock Crítico
                            </div>
                            <div class="h5 mb-0 font-weight-bold text-gray-800">3</div>
                            <div class="mt-1">
                                <small class="text-danger"><i class="fas fa-exclamation-triangle"></i> Requiere atención</small>
                            </div>
                        </div>
                        <div class="col-auto">
                            <div class="icon-circle bg-warning">
                                <i class="fas fa-boxes text-warning"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Segunda fila de métricas -->
    <div class="row mb-4">
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-primary shadow-sm h-100">
                <div class="card-body">
                    <div class="d-flex justify-content-between">
                        <div>
                            <div class="text-muted small">Facturación Hoy</div>
                            <div class="text-primary h5 font-weight-bold">Q8,750</div>
                        </div>
                        <i class="fas fa-calendar-day fa-2x text-primary"></i>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-success shadow-sm h-100">
                <div class="card-body">
                    <div class="d-flex justify-content-between">
                        <div>
                            <div class="text-muted small">Órdenes Completadas</div>
                            <div class="text-success h5 font-weight-bold">28</div>
                        </div>
                        <i class="fas fa-check-circle fa-2x text-success"></i>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-info shadow-sm h-100">
                <div class="card-body">
                    <div class="d-flex justify-content-between">
                        <div>
                            <div class="text-muted small">Promedio Reparación</div>
                            <div class="text-info h5 font-weight-bold">2.3 días</div>
                        </div>
                        <i class="fas fa-clock fa-2x text-info"></i>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-secondary shadow-sm h-100">
                <div class="card-body">
                    <div class="d-flex justify-content-between">
                        <div>
                            <div class="text-muted small">Empleados Activos</div>
                            <div class="text-secondary h5 font-weight-bold">8</div>
                        </div>
                        <i class="fas fa-users-cog fa-2x text-secondary"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Sección de contenido principal -->
    <div class="row">
        <!-- Accesos Rápidos Mejorados -->
        <div class="col-lg-6 mb-4">
            <div class="card shadow-sm h-100">
                <div class="card-header py-3 bg-gradient-primary">
                    <h6 class="m-0 font-weight-bold text-white">
                        <i class="fas fa-rocket me-2"></i>Accesos Rápidos
                    </h6>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <a asp-controller="OrdenTrabajo" asp-action="Create" class="btn btn-primary w-100 btn-action">
                                <div class="d-flex align-items-center">
                                    <i class="fas fa-plus-circle fa-2x me-3"></i>
                                    <div class="text-start">
                                        <div class="fw-bold">Nueva Orden</div>
                                        <small>Crear orden de trabajo</small>
                                    </div>
                                </div>
                            </a>
                        </div>
                        <div class="col-md-6 mb-3">
                            <a asp-controller="Clientes" asp-action="Create" class="btn btn-success w-100 btn-action">
                                <div class="d-flex align-items-center">
                                    <i class="fas fa-user-plus fa-2x me-3"></i>
                                    <div class="text-start">
                                        <div class="fw-bold">Nuevo Cliente</div>
                                        <small>Registrar cliente</small>
                                    </div>
                                </div>
                            </a>
                        </div>
                        <div class="col-md-6 mb-3">
                            <a asp-controller="Facturas" asp-action="Index" class="btn btn-info w-100 btn-action">
                                <div class="d-flex align-items-center">
                                    <i class="fas fa-file-invoice fa-2x me-3"></i>
                                    <div class="text-start">
                                        <div class="fw-bold">Facturación</div>
                                        <small>Gestionar facturas</small>
                                    </div>
                                </div>
                            </a>
                        </div>
                        <div class="col-md-6 mb-3">
                            <a asp-controller="Reportes" asp-action="Index" class="btn btn-warning w-100 btn-action">
                                <div class="d-flex align-items-center">
                                    <i class="fas fa-chart-bar fa-2x me-3"></i>
                                    <div class="text-start">
                                        <div class="fw-bold">Reportes</div>
                                        <small>Análisis y reportes</small>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Panel de Actividad y Notificaciones -->
        <div class="col-lg-6 mb-4">
            <div class="card shadow-sm h-100">
                <div class="card-header py-3 bg-gradient-info">
                    <h6 class="m-0 font-weight-bold text-white">
                        <i class="fas fa-bell me-2"></i>Centro de Notificaciones
                    </h6>
                </div>
                <div class="card-body">
                    <div class="notification-list">
                        <div class="notification-item priority-high">
                            <div class="d-flex align-items-center">
                                <div class="notification-icon bg-danger">
                                    <i class="fas fa-exclamation-triangle text-white"></i>
                                </div>
                                <div class="notification-content">
                                    <div class="notification-title">Stock Crítico</div>
                                    <div class="notification-desc">3 repuestos requieren reabastecimiento inmediato</div>
                                    <small class="text-muted">Hace 15 minutos</small>
                                </div>
                                <a href="@Url.Action("InventarioCritico", "Reportes")" class="btn btn-sm btn-outline-danger">Ver</a>
                            </div>
                        </div>

                        <div class="notification-item priority-medium">
                            <div class="d-flex align-items-center">
                                <div class="notification-icon bg-warning">
                                    <i class="fas fa-clock text-white"></i>
                                </div>
                                <div class="notification-content">
                                    <div class="notification-title">Órdenes Pendientes</div>
                                    <div class="notification-desc">5 órdenes programadas para entrega hoy</div>
                                    <small class="text-muted">Hace 1 hora</small>
                                </div>
                                <a href="@Url.Action("Index", "OrdenTrabajo")" class="btn btn-sm btn-outline-warning">Ver</a>
                            </div>
                        </div>

                        <div class="notification-item priority-low">
                            <div class="d-flex align-items-center">
                                <div class="notification-icon bg-success">
                                    <i class="fas fa-dollar-sign text-white"></i>
                                </div>
                                <div class="notification-content">
                                    <div class="notification-title">Facturación Exitosa</div>
                                    <div class="notification-desc">2 facturas procesadas por Q12,450</div>
                                    <small class="text-muted">Hace 2 horas</small>
                                </div>
                                <a href="@Url.Action("Index", "Facturas")" class="btn btn-sm btn-outline-success">Ver</a>
                            </div>
                        </div>

                        <div class="notification-item priority-low">
                            <div class="d-flex align-items-center">
                                <div class="notification-icon bg-primary">
                                    <i class="fas fa-user-check text-white"></i>
                                </div>
                                <div class="notification-content">
                                    <div class="notification-title">Nuevo Cliente</div>
                                    <div class="notification-desc">Mario López se registró en el sistema</div>
                                    <small class="text-muted">Hace 3 horas</small>
                                </div>
                                <a href="@Url.Action("Index", "Clientes")" class="btn btn-sm btn-outline-primary">Ver</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Sección de progreso y estadísticas -->
    <div class="row mb-4">
        <div class="col-lg-8 mb-4">
            <div class="card shadow-sm">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">
                        <i class="fas fa-chart-line me-2"></i>Progreso del Mes
                    </h6>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <h6 class="text-muted">Meta de Ventas</h6>
                            <div class="progress mb-2" style="height: 20px;">
                                <div class="progress-bar bg-success" role="progressbar" style="width: 72%" aria-valuenow="72" aria-valuemin="0" aria-valuemax="100">
                                    72%
                                </div>
                            </div>
                            <small class="text-muted">Q215,000 de Q300,000</small>
                        </div>
                        <div class="col-md-6 mb-3">
                            <h6 class="text-muted">Órdenes Completadas</h6>
                            <div class="progress mb-2" style="height: 20px;">
                                <div class="progress-bar bg-info" role="progressbar" style="width: 85%" aria-valuenow="85" aria-valuemin="0" aria-valuemax="100">
                                    85%
                                </div>
                            </div>
                            <small class="text-muted">28 de 33 órdenes</small>
                        </div>
                        <div class="col-md-6 mb-3">
                            <h6 class="text-muted">Satisfacción Cliente</h6>
                            <div class="progress mb-2" style="height: 20px;">
                                <div class="progress-bar bg-warning" role="progressbar" style="width: 94%" aria-valuenow="94" aria-valuemin="0" aria-valuemax="100">
                                    94%
                                </div>
                            </div>
                            <small class="text-muted">Excelente desempeño</small>
                        </div>
                        <div class="col-md-6 mb-3">
                            <h6 class="text-muted">Inventario Disponible</h6>
                            <div class="progress mb-2" style="height: 20px;">
                                <div class="progress-bar bg-danger" role="progressbar" style="width: 68%" aria-valuenow="68" aria-valuemin="0" aria-valuemax="100">
                                    68%
                                </div>
                            </div>
                            <small class="text-muted">Necesita reabastecimiento</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-4 mb-4">
            <div class="card shadow-sm">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">
                        <i class="fas fa-tasks me-2"></i>Tareas Pendientes
                    </h6>
                </div>
                <div class="card-body">
                    <div class="task-list">
                        <div class="task-item">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="task1">
                                <label class="form-check-label" for="task1">
                                    Revisar inventario crítico
                                </label>
                            </div>
                            <small class="text-danger">Urgente</small>
                        </div>
                        <div class="task-item">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="task2">
                                <label class="form-check-label" for="task2">
                                    Actualizar precios servicios
                                </label>
                            </div>
                            <small class="text-warning">Importante</small>
                        </div>
                        <div class="task-item">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="task3">
                                <label class="form-check-label" for="task3">
                                    Generar reporte mensual
                                </label>
                            </div>
                            <small class="text-info">Normal</small>
                        </div>
                        <div class="task-item">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="task4" checked>
                                <label class="form-check-label text-muted" for="task4">
                                    <s>Capacitar nuevo empleado</s>
                                </label>
                            </div>
                            <small class="text-success">Completado</small>
                        </div>
                    </div>
                </div>
            </div>
    <!-- Sección adicional con gráficos y calendario -->
    <div class="row">
        <!-- Gráfico de actividad semanal -->
        <div class="col-lg-8 mb-4">
            <div class="card shadow-sm">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">
                        <i class="fas fa-chart-area me-2"></i>Actividad Semanal
                    </h6>
                </div>
                <div class="card-body">
                    <canvas id="activityChart" width="400" height="200"></canvas>
                </div>
            </div>
        </div>

        <!-- Mini Calendario y Eventos -->
        <div class="col-lg-4 mb-4">
            <div class="card shadow-sm">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">
                        <i class="fas fa-calendar-alt me-2"></i>Eventos de Hoy
                    </h6>
                </div>
                <div class="card-body">
                    <div class="calendar-today">
                        <div class="text-center mb-3">
                            <div class="calendar-date">
                                <span class="calendar-day">@DateTime.Now.ToString("dd")</span>
                                <span class="calendar-month">@DateTime.Now.ToString("MMM")</span>
                            </div>
                        </div>
                        <div class="events-list">
                            <div class="event-item">
                                <div class="event-time">09:00</div>
                                <div class="event-desc">Reunión equipo técnico</div>
                            </div>
                            <div class="event-item">
                                <div class="event-time">14:30</div>
                                <div class="event-desc">Entrega Ford Explorer</div>
                            </div>
                            <div class="event-item">
                                <div class="event-time">16:00</div>
                                <div class="event-desc">Revisión inventario</div>
                            </div>
                            <div class="event-item upcoming">
                                <div class="event-time">Mañana</div>
                                <div class="event-desc">Capacitación personal</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer del Dashboard -->
    <div class="row">
        <div class="col-12">
            <div class="card shadow-sm">
                <div class="card-body text-center py-2">
                    <small class="text-muted">
                        <i class="fas fa-clock me-1"></i>
                        Última actualización: @DateTime.Now.ToString("dd/MM/yyyy HH:mm")
                        <span class="mx-3">|</span>
                        <i class="fas fa-users me-1"></i>
                        @(User.Identity?.Name ?? "Usuario")
                        <span class="mx-3">|</span>
                        <i class="fas fa-cogs me-1"></i>
                        Sistema funcionando correctamente
                    </small>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Scripts para gráficos y interactividad -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    // Gráfico de actividad semanal
    const ctx = document.getElementById('activityChart').getContext('2d');
    const activityChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: ['Lun', 'Mar', 'Mié', 'Jue', 'Vie', 'Sáb', 'Dom'],
            datasets: [{
                label: 'Órdenes Completadas',
                data: [12, 19, 15, 17, 14, 8, 6],
                borderColor: '#4e73df',
                backgroundColor: 'rgba(78, 115, 223, 0.1)',
                borderWidth: 3,
                fill: true,
                tension: 0.4,
                pointBackgroundColor: '#4e73df',
                pointBorderColor: '#fff',
                pointBorderWidth: 2,
                pointRadius: 6,
                pointHoverRadius: 8
            }, {
                label: 'Nuevos Clientes',
                data: [2, 3, 1, 4, 2, 1, 0],
                borderColor: '#1cc88a',
                backgroundColor: 'rgba(28, 200, 138, 0.1)',
                borderWidth: 3,
                fill: true,
                tension: 0.4,
                pointBackgroundColor: '#1cc88a',
                pointBorderColor: '#fff',
                pointBorderWidth: 2,
                pointRadius: 6,
                pointHoverRadius: 8
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'top',
                    labels: {
                        usePointStyle: true,
                        padding: 20
                    }
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    grid: {
                        color: 'rgba(0,0,0,0.1)'
                    }
                },
                x: {
                    grid: {
                        display: false
                    }
                }
            },
            elements: {
                point: {
                    hoverRadius: 8
                }
            },
            animation: {
                duration: 2000,
                easing: 'easeInOutQuart'
            }
        }
    });

    // Efecto de animación en las tarjetas métricas
    document.addEventListener('DOMContentLoaded', function() {
        const metricValues = document.querySelectorAll('.metric-value');
        
        metricValues.forEach(function(element) {
            const finalValue = parseInt(element.textContent.replace(/[^\d]/g, ''));
            let currentValue = 0;
            const increment = Math.ceil(finalValue / 50);
            const timer = setInterval(function() {
                currentValue += increment;
                if (currentValue >= finalValue) {
                    clearInterval(timer);
                    currentValue = finalValue;
                }
                
                // Mantener el formato original
                if (element.textContent.includes('Q')) {
                    element.textContent = 'Q' + currentValue.toLocaleString();
                } else if (element.textContent.includes('%')) {
                    element.textContent = currentValue + '%';
                } else {
                    element.textContent = currentValue.toLocaleString();
                }
            }, 40);
        });

        // Efecto hover en las notificaciones
        const notifications = document.querySelectorAll('.notification-item');
        notifications.forEach(function(notification) {
            notification.addEventListener('mouseenter', function() {
                this.style.borderLeftWidth = '6px';
            });
            
            notification.addEventListener('mouseleave', function() {
                this.style.borderLeftWidth = '4px';
            });
        });

        // Funcionalidad de tareas
        const taskCheckboxes = document.querySelectorAll('.task-item input[type="checkbox"]');
        taskCheckboxes.forEach(function(checkbox) {
            checkbox.addEventListener('change', function() {
                const label = this.nextElementSibling;
                const taskItem = this.closest('.task-item');
                const badge = taskItem.querySelector('small');
                
                if (this.checked) {
                    label.innerHTML = '<s>' + label.textContent + '</s>';
                    label.classList.add('text-muted');
                    badge.textContent = 'Completado';
                    badge.className = 'text-success';
                } else {
                    label.innerHTML = label.textContent.replace(/<\/?s>/g, '');
                    label.classList.remove('text-muted');
                    // Restaurar estado original basado en el texto
                    if (label.textContent.includes('crítico')) {
                        badge.textContent = 'Urgente';
                        badge.className = 'text-danger';
                    }
                }
            });
        });
    });
</script>